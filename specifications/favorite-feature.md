# お気に入りイベント機能 仕様書

## 1. 概要

- ユーザーがイベント詳細ページで「お気に入り登録/解除」ボタンを押すことで、イベントをお気に入りリストに追加・削除できる機能。
- お気に入りイベントはPWAホーム画面（/home）で一覧表示され、クリックでイベント詳細ページに遷移できる。
- お気に入り情報はローカルストレージ＋React Contextで管理し、登録/解除時に即時UIへ反映される。

## 2. 目的

- ユーザーがよくアクセスするイベントを素早く再訪できるようにする。
- イベントのブックマーク的な役割を果たし、UXを向上させる。

## 3. 画面・UI

- イベント詳細ページ（/event/[public_id]）のタイトル横に「☆お気に入り登録／★お気に入り解除」ボタンを表示。
- PWAホーム画面（/home）に「お気に入りイベント」一覧セクションを表示。
  - タイトル・最終アクセス日時を表示。
  - クリックでイベント詳細ページへ遷移。
- お気に入りが1件もない場合は「お気に入りイベントはありません」と表示。

## 4. データ構造

- ローカルストレージキー: `favoriteEvents`
- データ型: `[{ id: string, title: string, lastAccessed?: string }]`
- React Context（FavoriteEventsProvider）でグローバル状態管理

## 5. 主な処理フロー

- お気に入り登録: ボタン押下でイベントID・タイトル・最終アクセス日時をリストに追加
- お気に入り解除: ボタン押下で該当IDをリストから削除
- ホーム画面・詳細ページ間で即時UI反映
- お気に入り一覧は新しい順に表示

## 6. 今後の拡張方針

- サーバーサイド保存（認証導入時）
- お気に入りの並び替え・メモ機能
- イベントの自動アーカイブ・期限切れ非表示

## 7. 実装ファイル

- `/src/components/favorite-events-context.tsx`（状態管理）
- `/src/components/favorite-events.tsx`（一覧表示）
- `/src/components/favorite-toggle.tsx`（登録/解除ボタン）
- `/src/app/home/page.tsx`（Providerラップ・一覧表示）

---

本仕様はPWAホーム画面のUX向上のための「お気に入りイベント」機能の実装内容を反映しています。
