# イベントURL/IDから開く機能 仕様書

## 1. 概要

- PWAホーム画面（/home）で、ユーザーがイベントの公開URLまたはID（public_token）を入力し、該当イベント詳細ページへ直接遷移できる機能。
- URL形式・ID形式どちらでも入力可能で、バリデーション・エラーハンドリングも実装済み。

## 2. 目的

- 参加者や主催者が、手元のURLやIDから素早くイベント詳細ページを開けるようにする。
- 履歴やお気に入りに残っていないイベントにも即アクセスできるUXを提供。

## 3. 画面・UI

- PWAホーム画面（/home）下部に「イベントURL/IDから開く」セクションを設置。
  - 入力欄（テキストボックス）と「開く」ボタンを横並びで配置。
  - 入力値がURLの場合はID部分を自動抽出、IDのみの場合もそのまま遷移。
  - 入力値が不正な場合はエラーメッセージを表示。

## 4. バリデーション・遷移処理

- 入力値が空の場合：「URLまたはIDを入力してください」と表示
- 入力値がURLの場合：/event/[public_id]形式のID部分を抽出
- 入力値がIDの場合：8文字以上の英数字・ハイフン形式かを正規表現で判定
- 有効なIDであれば `/event/[ID]` へ遷移
- 不正な場合：「有効なイベントIDまたはURLを入力してください」と表示

## 5. 主な処理フロー

- 入力欄にURLまたはIDを入力
- 「開く」ボタン押下でバリデーション
- 成功時は該当イベント詳細ページへリダイレクト
- 失敗時はエラーメッセージを表示

## 6. 今後の拡張方針

- 入力履歴の保存・サジェスト機能
- QRコード読み取りによるイベントID入力
- イベントIDの有効性チェック（存在しないIDの場合のエラー表示）

## 7. 実装ファイル

- `/src/app/home/page.tsx`（フォームUI・バリデーション・遷移処理）

---

本仕様はPWAホーム画面の「イベントURL/IDから開く」機能の実装内容を反映しています。
